!function(){window.Forkmyreligion=Ember.Application.create()}(),function(){Forkmyreligion.constants={GITHUB_TOKEN:"143b07f342b61ef0cea2908d2de4559129ba22ec"}}(),function(){Forkmyreligion.BeliefSystemsDetailsController=Ember.ObjectController.extend({})}(),function(){Forkmyreligion.ForkBeliefSystemController=Ember.ObjectController.extend({needs:"application",newBeliefSystem:null,actions:{createBeliefSystem:function(a){a.save().then(function(){}),apctr=this.controllerFor("application"),apctr.send("closeModal")},onShow:function(){this.newBeliefSystem=this.store.createRecord("beliefsystem")}}})}(),function(){Forkmyreligion.Store=DS.Store.extend(),Forkmyreligion.ApplicationAdapter=DS.RESTAdapter.extend({host:"http://belief-systems.dev/api/v1",headers:{Accept:"application/json, text/javascript; q=0.01"}}),Forkmyreligion.BeliefsystemAdapter=DS.ActiveModelAdapter.extend({host:"http://belief-systems.dev/api/v1"}),Forkmyreligion.RawTransform=DS.Transform.extend({deserialize:function(a){return a},serialize:function(a){return a}})}(),function(){Forkmyreligion.Beliefsystem=DS.Model.extend({followers_count:DS.attr("string"),name:DS.attr("string"),core:DS.attr("string"),tenants:DS.attr("raw"),description:DS.attr("string"),followers_count_string:function(){return this.get("followers_count")?this.get("followers_count").toString()+" following":"0 following"}.property("followers_count")})}(),function(){Forkmyreligion.ApplicationRoute=Ember.Route.extend({actions:{closeModal:function(){this.render("hide_modal",{into:"modal",outlet:"modalBody"})}}}),Forkmyreligion.ApplicationRoute.reopenClass({showModal:function(a,b){a.controllerFor("modal").set("modalClass",null),a.render(b,{into:"modal",outlet:"modalBody"})},showModalWithController:function(a,b,c){a.controllerFor("modal").set("modalClass",null),a.render(b,{into:"modal",outlet:"modalBody"});var d=a.controllerFor(b);d&&(c&&d.set("model",c),d&&d.onShow&&d.onShow())}})}(),function(){Forkmyreligion.BeliefSystemsNewRoute=Ember.Route.extend({model:function(){return this.store.createRecord("beliefsystem")},actions:{createNewBeliefSystem:function(a){var b=this;a.save().then(function(){b.transitionTo("index")})}}}),Forkmyreligion.BeliefSystemsRoute=Ember.Route.extend({model:function(a){return this.store.find("beliefsystem",a.id)}}),Forkmyreligion.BeliefSystemsDetailsRoute=Ember.Route.extend({setupController:function(a){a.set("content",this.modelFor("belief_systems"))},actions:{forkBeliefSystem:function(){var a=new Octokit({token:Forkmyreligion.constants.GITHUB_TOKEN});a.getRepo("etewiah","base-belief-system")}}})}(),function(){Forkmyreligion.IndexRoute=Ember.Route.extend({actions:{followBeliefSystem:function(a){var b=0;a.get("followers_count")&&(b=a.get("followers_count")),a.set("followers_count",parseInt(b)+1),a.save().then(function(){})},forkBeliefSystem:function(){this.render("forkBeliefSystem",{into:"modal",outlet:"modalBody"}),this.controllerFor("forkBeliefSystem").send("onShow");var a=new Octokit({token:Forkmyreligion.constants.GITHUB_TOKEN});a.getRepo("etewiah","base-belief-system")},createBeliefSystem:function(){}},model:function(){return this.store.find("beliefsystem")}})}(),function(){Forkmyreligion.ModalBodyView=Ember.View.extend({didInsertElement:function(){$("#discourse-modal").modal("show"),this.get("controller"),$("#discourse-modal").on("hidden.bs.modal",function(){}),$("#modal-alert").hide();var a=this;Em.run.schedule("afterRender",function(){a.$("input:first").focus()})},willDestroyElement:function(){}})}(),function(){Forkmyreligion.ForkBeliefSystemView=Forkmyreligion.ModalBodyView.extend({})}(),function(){Forkmyreligion.HideModalView=Ember.View.extend({render:function(){},didInsertElement:function(){$("#discourse-modal").modal("hide")}})}(),function(){Forkmyreligion.ModalView=Ember.View.extend({elementId:"discourse-modal",templateName:"modals/modal",classNameBindings:[":modal",":fade","controller.modalClass"],didInsertElement:function(){}})}(),function(){Forkmyreligion.Router.map(function(){this.route("belief_systems_new",{path:"/belief_systems/new"}),this.resource("belief_systems",{path:"/belief_systems/:id"},function(){this.route("details",{path:"/"}),this.route("fork"),this.route("edit")})})}();